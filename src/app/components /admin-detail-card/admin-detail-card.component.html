<!-- Card Users -->
<div *ngIf="data" class="surface-section px-4 py-5 md:px-6 lg:px-8">
    <div class="flex align-items-start flex-column lg:justify-content-between lg:flex-row">
        <div *ngIf="selectedLink != 'agences'">
            <div class="font-medium text-3xl text-900">{{data.firstname}} {{data.lastname}} ({{data.office?.nameOffice}})</div>

                <!-- Info Card Agents/Mandataires -->
                <div class="flex align-items-center text-700 flex-wrap">
                    <div class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-euro mr-2">CA HT ACTÉ : </i>
                        <span>{{data.caHtAct || 0}} €</span>
                    </div>
                    <div class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-hourglass mr-2">CA HT SSP :</i>
                        <span> {{data.caHtSsp || 0}} €</span>
                    </div>
                    <!-- Info Card Spécial Agents -->
                    <div *ngIf="selectedLink === 'agents'" class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-list mr-2"> VENTES SSP (unités) : </i>
                        <span> {{data.salesSsp || 0}} </span>
                    </div>

                    <div class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-copy mr-2"> DÉMARCHEURS (unités) : </i>
                        <span> {{data.mandates || 0}} </span>
                    </div>
                
                    <!-- Info Card Spécial Mandataires -->      
                    <div *ngIf="selectedLink === 'mandataires'" class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-sitemap mr-2"> CA HT D'ÉQUIPE SSP : </i>
                        <span> {{data.caHtNetworkTeamSsp || 0}} €</span>
                    </div>
                    <div *ngIf="selectedLink === 'mandataires'" class="mr-5 flex align-items-center mt-3 flex-wrap">
                        <i class="pi pi-user-plus mr-2"> MEILEUR DEV : </i>
                        <span> {{data.bestDev || 0}} </span>
                    </div>
                </div>
        </div>
        <div *ngIf="selectedLink === 'agences'">
                <div class="font-medium text-3xl text-900">{{data.nameOffice}}</div>

                <!-- Info Card Spécial Agences -->  
                <div *ngIf="selectedLink === 'agences'" class="mr-5 flex align-items-center mt-3 flex-wrap">
                    <i class="pi pi-briefcase mr-2"> CA HT AGENCE SSP : </i>
                    <span> {{data.caHtOfficeSsp || 0}} €</span>
                </div>
                <div *ngIf="selectedLink === 'agences'" class="mr-5 flex align-items-center mt-3 flex-wrap">
                    <i class="pi pi-users mr-2"> ÉQUIPE : </i>
                    <span *ngFor="let user of data.userList; let last = last">
                        {{ user.firstname }} {{ user.lastname }}{{ !last ? ', ' : '' }}
                    </span>                
                </div>   
        </div>
        
        <div  class="mt-3 lg:mt-0">
                <p-button (click)="openForm()" icon="pi pi-pencil" label="Modifier" [style]="{ background: '#2663EB', border: 'white', width: '130px'}"></p-button>
                    <p-dialog *ngIf="updatedLink" header="Modifier" [(visible)]="isOpen" [breakpoints]="{ '960px': '90vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
                        <app-admin-detail-form *ngIf="selectedLink === 'agences'"  
                        [updatedLink]="updatedLink"
                        [selectedLink]="selectedLink"
                        [dataOfficeSelected]="data"
                        ></app-admin-detail-form>

                        <app-admin-detail-form *ngIf="selectedLink != 'agences'"  
                        [updatedLink]="updatedLink"
                        [selectedLink]="selectedLink"
                        [dataUserSelected]="data"
                        ></app-admin-detail-form>
                    </p-dialog>
                
                    <div class="card flex justify-content-center mt-1">
                        <p-toast></p-toast>
                        <p-confirmPopup></p-confirmPopup>
                        <p-button (click)="confirmDelete($event)" icon="pi pi-times" label="Supprimer" severity="danger"  [style]="{ background: '#DC2626', border: 'white', width: '130px'}"></p-button>
                    </div>
                    
        </div>
    </div>
</div>

<!-- Card Offices -->
<!-- <div *ngIf="adminOfficeChild && adminOfficeChild.nameOffice !== 'Weelodge Center'" class="surface-section px-4 py-5 md:px-6 lg:px-8">
    <div class="flex align-items-start flex-column lg:justify-content-between lg:flex-row">
        <div>
            <div class="font-medium text-3xl text-900">{{adminOfficeChild.nameOffice}}</div>
            <div class="flex align-items-center text-700 flex-wrap">
                <div class="mr-5 flex align-items-center mt-3 flex-wrap">
                    <i class="pi pi-briefcase mr-2"> CA HT AGENCE SSP : </i>
                    <span> {{adminOfficeChild.caHtOfficeSsp || 0}} €</span>
                </div>
                <div class="mr-5 flex align-items-center mt-3 flex-wrap">
                    <i class="pi pi-users mr-2"> ÉQUIPE : </i>
                    <span *ngFor="let user of adminOfficeChild.userList; let last = last">
                        {{ user.firstname }} {{ user.lastname }}{{ !last ? ', ' : '' }}
                    </span>                
                </div>
            </div>
        </div>
        <div class="mt-3 lg:mt-0">
                <p-button (click)="showDialog()" icon="pi pi-pencil" label="Modifier" [style]="{ background: '#2663EB', border: 'white'}"></p-button>
                <p-dialog header="{{adminOfficeChild.nameOffice}}" [(visible)]="visible" [breakpoints]="{ '960px': '90vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
                    <app-admin-form
                    [adminOfficeSelectedChild]="adminOfficeChild"
                    [dataTypeChild]="dataTypeChild"
                    [routeChild]="'upd'"
                    ></app-admin-form>
                </p-dialog>
        </div>
    </div>
</div> -->

